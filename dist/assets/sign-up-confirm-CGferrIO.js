import{r as a,p as r,bF as g,j as e,S as m,b as j,be as x,T as t,B as h,H as b,a as S,R as y,cu as v,bq as k}from"./index-C5-7V04H.js";import{S as P}from"./split-layout-C-JKiTiu.js";import{c as R}from"./client-B6InYSCG.js";function C({children:s,email:i}){const[o]=a.useState(R()),[p,n]=a.useState(!1),[c,l]=a.useState(),f=a.useCallback(async()=>{n(!0),l(void 0);const d=new URL(r.auth.supabase.callback,globalThis.location.origin);d.searchParams.set("next",r.dashboard.overview);const{error:u}=await o.auth.resend({email:i,type:"signup",options:{emailRedirectTo:d.href}});if(u){l(u.message),n(!1);return}n(!1),g.success("Verification email sent")},[o,i]);return e.jsxs(m,{spacing:1,children:[e.jsx(j,{disabled:p,onClick:f,variant:"contained",children:s}),c?e.jsx(x,{color:"error",children:c}):null,e.jsx(t,{sx:{textAlign:"center"},variant:"body2",children:"Wait a few minutes then try again"})]})}const E={title:`Sign up confirm | Supabase | Auth | ${S.name}`};function B(){const{email:s}=w();return s?e.jsxs(a.Fragment,{children:[e.jsx(b,{children:e.jsx("title",{children:E.title})}),e.jsx(P,{children:e.jsxs(m,{spacing:4,children:[e.jsx("div",{children:e.jsx(h,{component:y,href:r.home,sx:{display:"inline-block",fontSize:0},children:e.jsx(v,{colorDark:"light",colorLight:"dark",height:32,width:122})})}),e.jsx(t,{variant:"h5",children:"Confirm your email"}),e.jsxs(t,{children:["We've sent a verification email to"," ",e.jsxs(t,{component:"span",variant:"subtitle1",children:['"',s,'"']}),"."]}),e.jsx(C,{email:s,children:"Resend"})]})})]}):e.jsx(h,{sx:{p:3},children:e.jsx(x,{color:"error",children:"Email is required"})})}function w(){const[s]=k();return{email:s.get("email")||void 0}}export{B as Page};
