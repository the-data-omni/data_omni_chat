import{cq as f,b0 as m,r,p as c,aZ as i,bF as x,j as b,be as p}from"./index-C5-7V04H.js";function E(){const{handleRedirectCallback:s}=f(),t=m(),a=r.useRef(!1),[o,l]=r.useState(null),u=r.useCallback(async()=>{if(a.current)return;a.current=!0;const n=new URLSearchParams(globalThis.location.search),h=n.get("code"),d=n.get("state");if(!h||!d){l("Code or state is missing");return}try{const e=await s(),g=(e==null?void 0:e.next)||c.dashboard.overview;t(g)}catch(e){i.error(e),x.error("Something went wrong"),t(c.home)}},[s,t]);return r.useEffect(()=>{u().catch(i.error)},[]),o?b.jsx(p,{color:"error",children:o}):null}export{E as Page};
