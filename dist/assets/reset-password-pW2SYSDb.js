import{r as t,j as e,S as i,B as h,p,R as x,cu as j,T as g,ak as f,al as b,am as S,bH as y,be as k,b as C,H as v,a as w}from"./index-C5-7V04H.js";import{u as R,C as E,t as F,z as l}from"./index-DvGAAjB3.js";import{a as L}from"./client-CgbzrkY0.js";import{S as P}from"./split-layout-C-JKiTiu.js";const B=l.object({email:l.string().min(1,{message:"Email is required"}).email()}),H={email:""};function I(){const[m,r]=t.useState(!1),{control:c,handleSubmit:d,setError:o,formState:{errors:s}}=R({defaultValues:H,resolver:F(B)}),u=t.useCallback(async a=>{r(!0);const{error:n}=await L.resetPassword(a);if(n){o("root",{type:"server",message:n}),r(!1);return}r(!1)},[o]);return e.jsxs(i,{spacing:4,children:[e.jsx("div",{children:e.jsx(h,{component:x,href:p.home,sx:{display:"inline-block",fontSize:0},children:e.jsx(j,{colorDark:"light",colorLight:"dark",height:32,width:122})})}),e.jsx(g,{variant:"h5",children:"Reset password"}),e.jsx("form",{onSubmit:d(u),children:e.jsxs(i,{spacing:2,children:[e.jsx(E,{control:c,name:"email",render:({field:a})=>e.jsxs(f,{error:!!s.email,children:[e.jsx(b,{children:"Email address"}),e.jsx(S,{...a,type:"email"}),s.email?e.jsx(y,{children:s.email.message}):null]})}),s.root?e.jsx(k,{color:"error",children:s.root.message}):null,e.jsx(C,{disabled:m,type:"submit",variant:"contained",children:"Send recovery link"})]})})]})}const T={title:`Reset password | Custom | Auth | ${w.name}`};function O(){return e.jsxs(t.Fragment,{children:[e.jsx(v,{children:e.jsx("title",{children:T.title})}),e.jsx(P,{children:e.jsx(I,{})})]})}export{O as Page};
